(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();let F=null;const y={rootId:"js-global-notification",textId:"js-global-notification-text",closeId:"js-global-notification-close",visibleClass:"global-notification--visible",errorClass:"global-notification--error",warningClass:"global-notification--warning"};function Y(){return{root:document.getElementById(y.rootId),text:document.getElementById(y.textId),closeBtn:document.getElementById(y.closeId)}}function oe(){F&&(clearTimeout(F),F=null)}function ye(e,t){e.classList.remove(y.errorClass,y.warningClass),t==="error"&&e.classList.add(y.errorClass),t==="warning"&&e.classList.add(y.warningClass)}function S(e,t="success"){const{root:r,text:n}=Y();!r||!n||(oe(),n.textContent=e,ye(r,t),r.classList.add(y.visibleClass),F=setTimeout(()=>{ie()},3e3))}function ie(){const{root:e,text:t}=Y();e&&(oe(),e.classList.remove(y.visibleClass),setTimeout(()=>{t&&(t.textContent=""),e.classList.remove(y.errorClass,y.warningClass)},300))}function xe(){const{closeBtn:e}=Y();e==null||e.addEventListener("click",ie)}const be=[{match:"rating-modal__textarea",errorClass:"rating-modal__textarea--error"},{match:"rating-modal__input",errorClass:"rating-modal__input--error"},{match:"footer__subscribe-form-input",errorClass:"footer__subscribe-form-input--error"}];function Ee(e){if(!e)return"form-field--error";const t=be.find(r=>e.classList.contains(r.match));return t?t.errorClass:"form-field--error"}function C(e,t,r){e&&e.classList.add(Ee(e)),t&&(t.textContent=r,t.classList.add("form-error--visible"))}function x(e,t){e&&e.classList.remove("rating-modal__input--error","rating-modal__textarea--error","footer__subscribe-form-input--error","form-field--error"),t&&(t.textContent="",t.classList.remove("form-error--visible"))}function J(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}const Le="https://your-energy.b.goit.study/api",v={modal:"js-rating-modal",closeBtn:"js-rating-modal-close",form:"js-rating-modal-form",email:"js-rating-modal-email",comment:"js-rating-modal-comment",value:"js-rating-modal-value",stars:".rating-modal__star",emailError:"js-email-error",commentError:"js-comment-error",ratingError:"js-rating-error",serverBox:"js-rating-server-message",serverText:"js-rating-server-message-text",serverClose:"js-rating-server-message-close"},$="rating-modal__star--active",ae="rating-modal--open",te="#EEA10C",we="currentColor";let O=null;function h(e){return document.getElementById(e)}function b(){const e=h(v.modal);return{modal:e,overlay:(e==null?void 0:e.querySelector(".rating-modal__overlay"))||null,closeBtn:h(v.closeBtn),form:h(v.form),email:h(v.email),comment:h(v.comment),value:h(v.value),stars:Array.from(document.querySelectorAll(v.stars)),emailError:h(v.emailError),commentError:h(v.commentError),ratingError:h(v.ratingError),serverBox:h(v.serverBox),serverText:h(v.serverText),serverClose:h(v.serverClose)}}function Ae(e,t="error"){const{serverBox:r,serverText:n}=b();!r||!n||(n.textContent=e,r.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),r.classList.add(`rating-modal__server-message--${t}`),r.classList.add("rating-modal__server-message--visible"))}function K(){const{serverBox:e,serverText:t}=b();e&&(e.classList.remove("rating-modal__server-message--visible"),e.classList.remove("rating-modal__server-message--error","rating-modal__server-message--success"),t&&(t.textContent=""))}function ce(e,t){const r=e.querySelector("svg"),n=r==null?void 0:r.querySelector("path");n&&(t?(n.setAttribute("fill",te),n.setAttribute("stroke",te)):(n.setAttribute("fill","none"),n.setAttribute("stroke",we)))}function Ce(e){const{stars:t}=b();t.forEach((r,n)=>{const s=n<e;r.classList.toggle($,s),ce(r,s)})}function Se(){const{stars:e}=b();let t=0;return e.forEach((r,n)=>{r.classList.contains($)&&(t=Math.max(t,n+1))}),t}function le(){const{form:e,value:t,email:r,comment:n,emailError:s,commentError:o,ratingError:i,stars:l}=b();e&&e.reset(),t&&(t.textContent="0.0"),x(r,s),x(n,o),x(null,i),K(),l.forEach(a=>{a.classList.remove($),ce(a,!1),a.style.color=""})}function ke(){const{email:e,comment:t,emailError:r,commentError:n,ratingError:s}=b(),o=Se(),i=(e==null?void 0:e.value.trim())||"",l=(t==null?void 0:t.value.trim())||"";let a=!1;return o===0?(C(null,s,"Please select a rating"),a=!0):x(null,s),i?J(i)?x(e,r):(C(e,r,"Please enter a valid email address"),a=!0):(C(e,r,"Please enter your email"),a=!0),l?x(t,n):(C(t,n,"Please enter your comment"),a=!0),{hasErrors:a,rating:o,emailValue:i,commentValue:l}}function je(e){const{modal:t}=b();t&&(O=e,le(),t.classList.add(ae),document.body.style.overflow="hidden")}function P(){const{modal:e}=b();e&&(e.classList.remove(ae),document.body.style.overflow="",O=null,le())}async function qe({exerciseId:e,rate:t,email:r,review:n}){const s=await fetch(`${Le}/exercises/${e}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:t,email:r,review:n})}),o=await s.json().catch(()=>({}));if(!s.ok){const i=(o==null?void 0:o.message)||"Failed to submit rating. Please try again.";throw new Error(i)}return o}function $e(){const{modal:e,overlay:t,closeBtn:r,serverClose:n,stars:s,value:o,email:i,comment:l,form:a,ratingError:d}=b();e&&(r==null||r.addEventListener("click",P),t==null||t.addEventListener("click",P),n==null||n.addEventListener("click",K),i==null||i.addEventListener("input",()=>{const{emailError:_}=b();x(i,_)}),l==null||l.addEventListener("input",()=>{const{commentError:_}=b();x(l,_)}),s.forEach((_,p)=>{_.addEventListener("click",()=>{const L=p+1;o&&(o.textContent=L.toFixed(1)),Ce(L),x(null,d)}),_.addEventListener("mouseenter",()=>{const L=p+1;s.forEach((T,V)=>{V<L&&!T.classList.contains($)&&(T.style.color="rgba(255, 255, 255, 0.6)")})}),_.addEventListener("mouseleave",()=>{s.forEach(L=>{L.classList.contains($)||(L.style.color="rgba(255, 255, 255, 0.3)")})})}),a==null||a.addEventListener("submit",async _=>{_.preventDefault();const{hasErrors:p,rating:L,emailValue:T,commentValue:V}=ke();if(!p&&O){K();try{const k=await qe({exerciseId:O,rate:L,email:T,review:V});P();const he=(k==null?void 0:k.name)||"the exercise";S(`Thank you, your review for exercise ${he} has been submitted`,"success")}catch(k){Ae(k.message,"error")}}}))}const ue="favorites";function z(){try{const e=localStorage.getItem(ue),t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function re(e){try{return localStorage.setItem(ue,JSON.stringify(e)),!0}catch{return!1}}function Ie(){return z()}function Be(e){return z().includes(e)}function Me(e){const t=z();if(t.includes(e)){const r=t.filter(n=>n!==e);return re(r),!1}return t.push(e),re(t),!0}let R="home",f={mobileMenu:null,burger:null,closeBtn:null,overlay:null};function de(e){document.body.style.overflow=e?"hidden":""}function me(e){document.querySelectorAll(".header__nav-link").forEach(t=>{t.classList.toggle("header__nav-link--active",t.getAttribute("data-page")===e)}),document.querySelectorAll(".mobile-menu__nav-link").forEach(t=>{t.classList.toggle("mobile-menu__nav-link--active",t.getAttribute("data-page")===e)})}function Te(e){!e||e===R||(R=e,me(e),e==="home"&&ge(),e==="favorites"&&rt())}function Fe(){var e,t;f.mobileMenu&&(f.mobileMenu.classList.add("is-open"),(e=f.burger)==null||e.classList.add("is-hidden"),(t=f.overlay)==null||t.classList.add("active"),de(!0))}function Q(){var e,t;f.mobileMenu&&(f.mobileMenu.classList.remove("is-open"),(e=f.burger)==null||e.classList.remove("is-hidden"),(t=f.overlay)==null||t.classList.remove("active"),de(!1))}function ne(e){const t=e.target.closest("[data-page]");if(!t)return;e.preventDefault();const r=t.getAttribute("data-page");Te(r),t.classList.contains("mobile-menu__nav-link")&&Q()}function Pe(){var r,n,s;const e=document.querySelector(".header__nav");e==null||e.addEventListener("click",ne),f.mobileMenu=document.querySelector(".mobile-menu"),f.burger=document.querySelector(".header__burger"),f.closeBtn=document.querySelector(".mobile-menu__close"),f.overlay=document.getElementById("overlay"),(r=f.burger)==null||r.addEventListener("click",Fe),(n=f.closeBtn)==null||n.addEventListener("click",Q);const t=document.querySelector(".mobile-menu__nav");t==null||t.addEventListener("click",ne),(s=f.mobileMenu)==null||s.addEventListener("click",o=>{o.target===f.mobileMenu&&Q()}),me(R)}function Oe(){return R}const Re="https://your-energy.b.goit.study/api";let w=null;function u(e){return document.getElementById(e)}function Ne(){const e=u("js-exercise-modal");e&&(e.classList.add("exercise-modal--open"),document.body.style.overflow="hidden")}function j(){const e=u("js-exercise-modal");e&&(e.classList.remove("exercise-modal--open"),document.body.style.overflow="")}async function De(e){const t=await fetch(`${Re}/exercises/${e}`);if(!t.ok)throw new Error("Failed to fetch exercise details");return t.json()}function Ue(){const e=u("js-exercise-modal-title"),t=u("js-exercise-modal-image"),r=document.querySelector(".exercise-modal__rating-value"),n=u("js-exercise-modal-target"),s=u("js-exercise-modal-body-part"),o=u("js-exercise-modal-equipment"),i=u("js-exercise-modal-popular"),l=u("js-exercise-modal-calories"),a=u("js-exercise-modal-time"),d=u("js-exercise-modal-description");e&&(e.textContent="Loading..."),r&&(r.textContent="0.0"),n&&(n.textContent=""),s&&(s.textContent=""),o&&(o.textContent=""),i&&(i.textContent="0"),l&&(l.textContent="0"),a&&(a.textContent="/0 min"),d&&(d.textContent=""),t&&(t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.alt="Exercise illustration"),Z(0),U()}function He(){const e=u("js-exercise-modal-title"),t=u("js-exercise-modal-description");e&&(e.textContent="Error loading exercise"),t&&(t.textContent="Failed to load exercise details. Please try again later."),Z(0),U()}function Z(e){const t=document.querySelector(".exercise-modal__rating-stars");if(!t)return;const r=t.querySelectorAll(".exercise-modal__rating-star"),n=Math.round(Number(e||0));r.forEach((s,o)=>{const i=s.querySelector("path");i&&(o<n?(i.setAttribute("fill","#EEA10C"),i.removeAttribute("stroke"),i.removeAttribute("stroke-width")):(i.setAttribute("fill","none"),i.setAttribute("stroke","rgba(255,255,255,0.3)"),i.setAttribute("stroke-width","1.5")))})}function U(){const e=u("js-exercise-modal-favorites");if(!e)return;const t=e.querySelector("span"),r=e.querySelector("svg path"),n=w?Be(w):!1;e.classList.toggle("active",n),t&&(t.textContent=n?"Remove from favorites":"Add to favorites"),r&&(n?(r.setAttribute("fill","currentColor"),r.removeAttribute("stroke"),r.removeAttribute("stroke-width")):(r.setAttribute("fill","none"),r.setAttribute("stroke","currentColor"),r.setAttribute("stroke-width","2")))}function Ge(e){const t=u("js-exercise-modal-image"),r=u("js-exercise-modal-title"),n=document.querySelector(".exercise-modal__rating-value"),s=u("js-exercise-modal-target"),o=u("js-exercise-modal-body-part"),i=u("js-exercise-modal-equipment"),l=u("js-exercise-modal-popular"),a=u("js-exercise-modal-calories"),d=u("js-exercise-modal-time"),_=u("js-exercise-modal-description");t&&(t.src=e.gifUrl||""),r&&(r.textContent=e.name||""),s&&(s.textContent=e.target||""),o&&(o.textContent=e.bodyPart||""),i&&(i.textContent=e.equipment||""),l&&(l.textContent=String(e.popularity||0)),a&&(a.textContent=String(e.burnedCalories||0)),d&&(d.textContent=`/${e.time||0} min`),_&&(_.textContent=e.description||"");const p=Number(e.rating||0);n&&(n.textContent=p.toFixed(1)),Z(p),U()}async function Ve(e){if(u("js-exercise-modal")){w=e,Ne(),Ue();try{const r=await De(e);if(w!==e)return;Ge(r)}catch{if(w!==e)return;He()}}}function Je(){const e=u("js-exercise-modal");if(!e)return;const t=u("js-exercise-modal-close"),r=e.querySelector(".exercise-modal__overlay");t==null||t.addEventListener("click",j),r==null||r.addEventListener("click",j);const n=u("js-exercise-modal-favorites");n==null||n.addEventListener("click",()=>{if(!w)return;const o=Me(w);U(),!o&&Oe()==="favorites"&&(j(),ee())});const s=u("js-exercise-modal-rating-btn");s==null||s.addEventListener("click",()=>{w&&(j(),je(w))})}const Ke="https://your-energy.b.goit.study/api",q=10,m={content:".exercises__content",cards:".exercises__content__main__cards",pagination:".exercises__content__pagination",filtersBar:".exercises__content__header-filters",breadcrumbs:"js-exercises-breadcrumbs",searchWrap:"js-exercises-search",searchInput:"js-exercises-search-input",hashtags:".home__hashtags"},g={cardsAsExercises:"exercises__content__main__cards--exercises",contentFavorites:"exercises__content--favorites",crumbItem:"exercises__content__header-breadcrumbs-item",crumbActive:"exercises__content__header-breadcrumbs-item--active",crumbSep:"exercises__content__header-breadcrumbs-separator",paginationArrow:"exercises__content__pagination-arrow",paginationPage:"exercises__content__pagination-page",paginationActive:"exercises__content__pagination-page--active",paginationDots:"exercises__content__pagination-ellipsis"},c={mode:"home",filter:"Muscles",page:1,category:null,keyword:""};function E(e){return document.querySelector(e)}function A(e){return document.getElementById(e)}function H(e,t){e&&(e.style.display=t)}async function X(e){return await fetch(`${Ke}${e}`)}function Qe(e,t,r=""){if(!e)return"";const n="https://wsrv.nl/?url=",s=`${n}${e}&w=150&output=webp&q=75`,o=`${n}${e}&w=350&output=webp&q=75`,i=`${n}${e}&w=700&output=webp&q=80`;return`
    <img
      class="${r}"
      src="${o}"
      srcset="${s} 150w, ${o} 350w, ${i} 700w"
      sizes="(max-width: 767px) 150px, (max-width: 1440px) 350px, 350px"
      alt="${t}"
      loading="lazy"
      decoding="async"
    />
  `}function We(){const e=A(m.searchWrap);H(e,"flex")}function fe(){const e=A(m.searchWrap),t=A(m.searchInput);H(e,"none"),t&&(t.value=""),c.keyword=""}function I(e,t=!1){const r=E(m.cards);r&&(r.innerHTML="",r.classList.toggle(g.cardsAsExercises,t),e.forEach(n=>r.insertAdjacentHTML("beforeend",n)))}function Ye(e){return`
    <div class="exercises__content__main__cards-item" data-category-name="${e.name}">
      <div class="exercises__content__main__cards-item-image">
        ${Qe(e.imgURL,`${e.name} exercise`)}
        <div class="exercises__content__main__cards-item-overlay">
          <div class="exercises__content__main__cards-item-overlay-name">${e.name}</div>
          <div class="exercises__content__main__cards-item-overlay-category">${e.filter}</div>
        </div>
      </div>
    </div>
  `}function _e(e){const t=Number(e.rating||0),r=e.burnedCalories||0,n=e.time||0,s=e.bodyPart||"",o=e.target||"";return`
    <div class="exercises__content__main__cards-item exercises__content__main__cards-item--exercise" data-exercise-id="${e._id||""}">
      <div class="exercises__content__main__cards-item-header">
        <button class="exercises__content__main__cards-item-workout-btn">WORKOUT</button>

        <div class="exercises__content__main__cards-item-rating">
          <span class="exercises__content__main__cards-item-rating-value">${t.toFixed(1)}</span>
          <svg class="exercises__content__main__cards-item-rating-star" width="18" height="18" viewBox="0 0 18 18" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M9 0L11.0206 6.21885L17.5595 6.21885L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885L6.97937 6.21885L9 0Z" fill="#EEA10C"/>
          </svg>
        </div>

        <button class="exercises__content__main__cards-item-start-btn">
          Start
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.75 4.5L11.25 9L6.75 13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>

      <div class="exercises__content__main__cards-item-body">
        <div class="exercises__content__main__cards-item-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <h3 class="exercises__content__main__cards-item-title">${e.name}</h3>
      </div>

      <div class="exercises__content__main__cards-item-footer">
        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Burned calories:</span>
          <span class="exercises__content__main__cards-item-info-value">${r}</span>
          <span class="exercises__content__main__cards-item-info-label">/ ${n} min</span>
        </div>

        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Body part:</span>
          <span class="exercises__content__main__cards-item-info-value">${s}</span>
        </div>

        <div class="exercises__content__main__cards-item-info">
          <span class="exercises__content__main__cards-item-info-label">Target:</span>
          <span class="exercises__content__main__cards-item-info-value">${o}</span>
        </div>
      </div>
    </div>
  `}function N(e){I([`
      <div class="exercises__content__main__empty-state">
        <p class="exercises__content__main__empty-state-text">${e}</p>
      </div>
    `],!0);const t=E(m.pagination);t&&(t.innerHTML="")}function G(e=null){const t=A(m.breadcrumbs);if(!t)return;if(t.innerHTML="",c.mode==="favorites"){const o=document.createElement("button");o.className=`${g.crumbItem} ${g.crumbActive}`,o.textContent="Favorites",o.setAttribute("data-breadcrumb","favorites"),t.appendChild(o);return}const r=document.createElement("button");if(r.className=g.crumbItem,r.textContent="Exercises",r.setAttribute("data-breadcrumb","exercises"),e||r.classList.add(g.crumbActive),r.addEventListener("click",()=>{c.category=null,c.page=1,M(c.filter,1)}),t.appendChild(r),!e)return;const n=document.createElement("span");n.className=g.crumbSep,n.textContent="/",t.appendChild(n);const s=document.createElement("button");s.className=`${g.crumbItem} ${g.crumbActive}`,s.textContent=e,t.appendChild(s)}function ze(e,t){const r=[];if(r.push(1),e<=7){for(let o=2;o<=e;o+=1)r.push(o);return r}let n=t-1,s=t+1;t<5&&(n=2,s=5),t>e-4&&(n=e-4,s=e-1),n>2&&r.push("...");for(let o=n;o<=s;o+=1)o>1&&o<e&&r.push(o);return s<e-1&&r.push("..."),r.push(e),r}function D(e,t=1){const r=E(m.pagination);if(!r||(r.innerHTML="",e<=1))return;const n=a=>{if(c.page=a,c.mode==="favorites"){ee(a);return}if(c.category){B(c.category,a,c.keyword);return}M(c.filter,a)},s=(a,d,_)=>{const p=document.createElement("button");return p.className=g.paginationArrow,p.innerHTML=a,p.disabled=d,p.addEventListener("click",_),p},o=a=>{const d=document.createElement("button");return d.className=g.paginationPage,d.textContent=String(a),a===t&&d.classList.add(g.paginationActive),d.addEventListener("click",()=>n(a)),d},i=()=>{const a=document.createElement("span");return a.className=g.paginationDots,a.textContent="...",a};r.appendChild(s("&laquo;",t===1,()=>n(1))),r.appendChild(s("&lsaquo;",t===1,()=>n(t-1))),ze(e,t).forEach(a=>{a==="..."?r.appendChild(i()):r.appendChild(o(a))}),r.appendChild(s("&rsaquo;",t===e,()=>n(t+1))),r.appendChild(s("&raquo;",t===e,()=>n(e)))}function Ze(){return c.filter==="Muscles"?"muscles":c.filter==="Body parts"?"bodypart":c.filter==="Equipment"?"equipment":""}function M(e,t=1){c.filter=e,c.page=t,c.category=null,fe();const n=`/filters?filter=${encodeURIComponent(e)}&page=${t}&limit=${q}`;X(n).then(s=>s.json()).then(s=>{const o=s.results||s.exercises||s||[],i=s.totalPages||s.total_pages||s.pageCount||1;G(null),Array.isArray(o)&&o.length?(I(o.map(Ye),!1),D(i,t)):(I([],!1),D(1,1))}).catch(()=>{N("Failed to load categories. Please try again later.")})}function B(e,t=1,r=c.keyword){c.category=e,c.page=t,c.keyword=r,We();const n=Ze(),s=encodeURIComponent(e);let o=`/exercises?${n}=${s}&page=${t}&limit=${q}`;const i=(r||"").trim();i&&(o+=`&keyword=${encodeURIComponent(i)}`),X(o).then(async l=>{if(l.status===409)return{results:[],totalPages:0};if(!l.ok)throw new Error("Search failed");return l.json()}).then(l=>{const a=l.results||[],d=l.totalPages||1;G(e),Array.isArray(a)&&a.length?(I(a.map(_e),!0),D(d,t)):N("Unfortunately, no results were found. You may want to consider other search options.")}).catch(()=>{N("Failed to load exercises. Please try again later.")})}function Xe(){const e=A(m.searchWrap),t=A(m.searchInput);if(!e||!t)return;const r=()=>{const s=t.value.trim().toLowerCase();if(!c.category){S("Please select a category first","error");return}B(c.category,1,s)};t.addEventListener("input",s=>{s.target.value.trim()===""&&c.category&&B(c.category,1,"")}),t.addEventListener("keydown",s=>{s.key==="Enter"&&(s.preventDefault(),r())});const n=e.querySelector(".exercises__content__header-search-icon");n==null||n.addEventListener("click",r)}function et(){const e=E(m.cards);e&&e.addEventListener("click",t=>{const r=t.target.closest(".exercises__content__main__cards-item");if(!r)return;const n=r.getAttribute("data-category-name");if(n){B(n);return}const s=r.getAttribute("data-exercise-id");s&&Ve(s)})}function tt(){const e=E(m.hashtags);e&&e.addEventListener("click",t=>{const r=t.target.closest("button");if(!r)return;const n=r.getAttribute("data-keyword")||r.textContent.replace("#","").trim();if(c.mode!=="home"){const i=E('.header__nav-link[data-page="home"]');i?i.click():ge()}const s=A(m.searchInput);s&&(s.value=n);const o=E(m.content);o==null||o.scrollIntoView({behavior:"smooth"}),c.category?B(c.category,1,n):S("Please select a category (e.g., abs) to start searching.","error")})}function se(){N(`It appears that you haven't added any exercises to your favorites yet.
To get started, you can add exercises that you like to your favorites for easier access in the future.`)}function ee(e=1){c.page=e,G(null);const t=Ie();if(!t.length){se();return}const r=Math.ceil(t.length/q),n=Math.min(Math.max(e,1),r);c.page=n;const s=(n-1)*q,i=t.slice(s,s+q).map(l=>X(`/exercises/${l}`).then(a=>a.ok?a.json():null).catch(()=>null));Promise.all(i).then(l=>{const a=l.filter(Boolean);a.length?(I(a.map(_e),!0),D(r,n)):se()})}function ge(){c.mode="home",c.category=null,c.keyword="";const e=E(m.filtersBar);H(e,"flex");const t=E(m.content);t==null||t.classList.remove(g.contentFavorites),M(c.filter,1)}function rt(){c.mode="favorites",c.category=null,c.keyword="";const e=E(m.filtersBar);H(e,"none"),fe();const t=E(m.content);t==null||t.classList.add(g.contentFavorites),ee(1)}const nt="https://your-energy.b.goit.study/api/subscription";function st(){const e=document.getElementById("subscribeForm"),t=document.getElementById("subscribeEmail"),r=document.getElementById("subscribeEmailError");if(!e||!t||!r)return;const n=()=>{const s=t.value.trim();(s===""||J(s))&&x(t,r)};t.addEventListener("input",n),e.addEventListener("submit",async s=>{s.preventDefault();const o=t.value.trim();if(o===""){C(t,r,"Please enter your email address");return}if(!J(o)){C(t,r,"Please enter a valid email address (e.g. name@gmail.com)");return}x(t,r);try{const i=await fetch(nt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(i.ok){const l=await i.json();S(l.message,"success"),e.reset();return}if(i.status===409){S("You've already subscribed. No need to resubscribe.","warning"),e.reset();return}throw new Error(`Subscription failed: ${i.status}`)}catch(i){S("Something went wrong. Please try again later.","error"),console.error(i)}})}const ot="https://your-energy.b.goit.study/api/quote",pe="quote-cache-v1";function it(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}function at(){try{const e=localStorage.getItem(pe);return e?JSON.parse(e):null}catch{return null}}function ct(e){try{localStorage.setItem(pe,JSON.stringify(e))}catch{}}async function lt(){const e=await fetch(ot);if(!e.ok)throw new Error("Quote request failed");return e.json()}async function ut(){const e=at(),t=it();if((e==null?void 0:e.date)===t&&(e!=null&&e.quote)&&(e!=null&&e.author))return{quote:e.quote,author:e.author};try{const r=await lt(),n={date:t,quote:r.quote,author:r.author};return ct(n),{quote:n.quote,author:n.author}}catch{return e!=null&&e.quote&&(e!=null&&e.author)?{quote:e.quote,author:e.author}:null}}async function dt(){const e=document.getElementById("js-exercises-quote-text"),t=document.getElementById("js-exercises-quote-author"),r=await ut();r&&(e&&(e.textContent=r.quote),t&&(t.textContent=r.author))}const mt="Muscles",ve=1,W={filterBtn:".exercises__content__header-filters-item",filterBtnActive:".exercises__content__header-filters-item--active"};function ft(){Je(),$e(),xe(),Pe(),st(),Xe(),et(),tt(),dt(),M(mt,ve),_t(),gt()}document.addEventListener("DOMContentLoaded",ft);function _t(){document.addEventListener("keydown",e=>{e.key==="Escape"&&(j(),P())})}function gt(){const e=document.querySelectorAll(W.filterBtn);e.length&&e.forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.filter;r&&(pt(e,t),G(null),M(r,ve))})})}function pt(e,t){e.forEach(r=>r.classList.remove(W.filterBtnActive.replace(".",""))),t.classList.add(W.filterBtnActive.replace(".",""))}
//# sourceMappingURL=index.js.map
